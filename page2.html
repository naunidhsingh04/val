<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Story</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Bulk Emoji Success Animation Styles */
        .bulk-emoji {
            position: fixed;
            bottom: -100px;
            font-size: 3rem;
            pointer-events: none;
            z-index: 9999;
            animation: bulkFloatUp 2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes bulkFloatUp {
            0% { 
                transform: translateY(0) rotate(0deg); 
                opacity: 0; 
            }
            20% { opacity: 1; }
            100% { 
                transform: translateY(-120vh) rotate(360deg); 
                opacity: 0; 
            }
        }

        /* Ensuring the button looks consistent with your theme */
        button {
            padding: 12px 25px;
            border-radius: 25px;
            border: none;
            background: #ff4d6d;
            color: white;
            font-size: 18px;
            cursor: pointer;
            transition: transform 0.2s;
            font-family: 'Chewy', cursive;
        }
        button:hover { transform: scale(1.1); }

        /* Style for the text container */
        .content-wrapper {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            padding: 20px;
        }

        .reveal-text {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease, transform 0.8s ease;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .reveal-text.active {
            opacity: 1;
            transform: translateY(0);
        }

        .signature {
            margin-top: 40px;
            font-style: italic;
        }
    </style>

    <script>
        // Audio Playback Handler - ENSURING SONG STAYS
        document.addEventListener('click', function() {
            var audio = document.getElementById('bg-music');
            if (audio && audio.paused) {
                audio.play();
            }
        }, { once: true });

        // Floating Background Hearts
        function createKiss() {
            const kiss = document.createElement('div');
            kiss.innerText = 'â¤ï¸';
            kiss.style.position = 'fixed';
            kiss.style.left = Math.random() * 100 + 'vw';
            kiss.style.top = Math.random() * 100 + 'vh';
            kiss.style.fontSize = (Math.random() * 20 + 20) + 'px';
            kiss.style.opacity = '0';
            kiss.style.transition = 'all 2s ease-in-out';
            kiss.style.zIndex = '-1'; 
            
            document.body.appendChild(kiss);

            setTimeout(() => {
                kiss.style.opacity = '0.7';
                kiss.style.transform = 'scale(3)';
            }, 100);

            setTimeout(() => {
                kiss.style.opacity = '0';
                setTimeout(() => kiss.remove(), 2000);
            }, 3000);
        }
        setInterval(createKiss, 300);

        // Bulk 'ðŸ¥³' Transition Function
        function triggerBulkEmojis() {
            const emojiCount = 50;
            for (let i = 0; i < emojiCount; i++) {
                setTimeout(() => {
                    const emoji = document.createElement('div');
                    emoji.className = 'bulk-emoji';
                    emoji.innerText = 'ðŸ¥³';
                    emoji.style.left = Math.random() * 100 + 'vw';
                    emoji.style.fontSize = (Math.random() * 2 + 1) + 'rem';
                    emoji.style.animationDuration = (1.5 + Math.random()) + 's';
                    document.body.appendChild(emoji);
                    setTimeout(() => emoji.remove(), 2500);
                }, i * 30);
            }
        }

        // Handle Redirect after Transition
        function handleNextRedirect() {
            triggerBulkEmojis();
            setTimeout(() => {
                window.location.href = "page3.html";
            }, 1800); 
        }

        // Initialize Text Reveal Observer
        window.addEventListener('DOMContentLoaded', () => {
            const observerOptions = { threshold: 0.1 };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.reveal-text').forEach(line => {
                observer.observe(line);
            });
        });
    </script>
</head>
<body>
    <!-- BACKGROUND SONG - KEPT INTACT -->
    <audio id="bg-music" loop autoplay>
        <source src="./Love Story(PagaiWorld.com).mp3" type="audio/mpeg">
    </audio>

    <div class="main-container">
        <div class="scroll-track">
            <!-- Your Polaroid Photos -->
            <div class="polaroid"><img src="IMG-20250809-WA0032.jpg"></div>
            <div class="polaroid"><img src="IMG-20250809-WA0028.jpg"></div>
            <div class="polaroid"><img src="IMG-20250809-WA0029.jpg"></div>
            <div class="polaroid"><img src="IMG-20250809-WA0030.jpg"></div>
            <div class="polaroid"><img src="IMG-20250809-WA0031.jpg"></div>
            <div class="polaroid"><img src="IMG-20250809-WA0036.jpg"></div>
            <div class="polaroid"><img src="forresta 1.jpeg"></div>
            <div class="polaroid"><img src="diwali.jpeg"></div>
            <div class="polaroid"><img src="forresta2.jpeg"></div>
            <div class="polaroid"><img src="newyear.jpeg"></div>
            <!-- Duplicates for scrolling loop -->
            <div class="polaroid"><img src="IMG-20250809-WA0032.jpg"></div>
            <div class="polaroid"><img src="IMG-20250809-WA0028.jpg"></div>
            <div class="polaroid"><img src="IMG-20250809-WA0029.jpg"></div>
            <div class="polaroid"><img src="IMG-20250809-WA0030.jpg"></div>
            <div class="polaroid"><img src="IMG-20250809-WA0031.jpg"></div>
            <div class="polaroid"><img src="IMG-20250809-WA0036.jpg"></div>
            <div class="polaroid"><img src="forresta 1.jpeg"></div>
            <div class="polaroid"><img src="diwali.jpeg"></div>
            <div class="polaroid"><img src="forresta2.jpeg"></div>
            <div class="polaroid"><img src="newyear.jpeg"></div>
        </div>
    </div>

    <br>

    <div class="content-wrapper">
        <div class="message-section">
            <h2 class="reveal-text">To My Dearest Love,</h2>
            <p class="reveal-text">You know every moment spent with you feels like a dream come true.My januuu you are the light that brightens my darkest days and the warmth that fills my heart with joy.</p>
            <p class="reveal-text">It's kinda funny that it has already been 3 years of us being together and i didn't even notice it cause you make me feel so much better like i matter and I LOVE YOUUU for that. </p>
            <p class="reveal-text">I really wanna be there with you on this valentines yrr and it makes me feel so bad that i won't be there with you. Ik i've never been there with you physically on any valentines but just know that even if i am not there, i'll always be there with you.</p>
            <p class="reveal-text">You know even if i ever forget to ask you to be my valentine (which i'll try not to) just know that no one could ever replace you and you'll akways and forever be my valentine.</p>
            <p class="reveal-text">On this special day, I want to remind you how much you mean to me. You are not just my partner; you are my best friend, my soulmate, and my entire universe.</p>
            <p class="reveal-text">Thank you for being you my kavu, for your kindness, your laughter, and for making every day better just by being in it. I am so lucky to have you by my side and i hope that you'll always be there by my side.</p>
            <p class="reveal-text">Happy Valentinesss Dayyyy Myy Loveee!!!! May our love continue to grow stronger with every passing second, and may we create a lifetime of beautiful memories together.</p>
            <p class="reveal-text signature">Forever yours, <br> Kavu ka Noddy</p>
        </div>
        
        <br><br><br><br><br>

        <!-- Redirect handler remains same -->
        <button onclick="handleNextRedirect()">Next</button>
    </div>
</body>
</html>